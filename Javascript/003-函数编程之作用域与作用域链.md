### JS 作用域

#### JS 函数作用域

JavaScript 的作用域仅存在于函数范围中。
C 语言和 Java 语言，作用域是`block-level scope`的，块级作用域。花括号就是一个作用域。
JavaScript 语言，作用域是`function-level scope`的，比如 if 语句就不是一个作用域。

```js
var x = 1;
console.log("x=" + x); //1
if (true) {
	var x = 2;
	console.log("x=" + x); //2
}
console.log("x=" + x);
```

在 JavaScript 中，需要实现`block-level scope`，就是通过自执行函数创建临时作用域：

```js
var x = 1;
console.log("x=" + x); //1
if (true) {
	(function foo() {
		var x = 2;
		console.log("x=" + x); //2
	})();
}
console.log("x=" + x); //1
```

#### 函数被提升

函数的声明方式主要有两种：声明式和变量式；
声明式会自动将声明式放在前面并且执行赋值过程。
带有命名的函数变量式声明，是不会提升到作用域范围内。

```js
function test() {
	bar();
	function bar() {
		//function declaration,
		console.log("this will run?");
	}
}
test();
```

```js
function test() {
	foo();
	var foo = function () {
		//function express assigned to local variable 'foo'
		console.log("this will run?");
	};
}
test(); // TypeError: foo is not a function
```

```js
var bar = function foo() {
	console.log("foo run");
};
bar();
foo(); //ReferenceError "foo is not defined"
```
