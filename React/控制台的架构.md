## 阿里云产品控制台技术调研

### PC 前端开发与移动端的不同点？

1. PC 端重业务，轻体验；(CRUD)
2. 技术难点侧重点不同；
3. 设计开发流程的不同：DPL（Design Pattern Language）；

## 集团前端技术背景

### Design Pattern Library

前端设计模式库
fusion design: https://fusion.alibaba-inc.com/
http://fusion-design.alibaba-inc.com/bu?role=designer&bu=9&team=7
ant design:

http://fusion-design.alibaba-inc.com/bu?role=designer&bu=9&team=7

阿里巴巴 Fusion Design 是如何运作的
https://www.zhihu.com/question/59338468/answer/196109202

### 蚂蚁

DPL：Ant Design
工具集：bigfish（对内)，UmiJS（对外）
数据流：DvaJS

### 淘系

DPL：Fusion Design
工具集：def
数据流：DvaJS

### 阿里云

DPL: Wind (基于 fusion 的二次封装)
工具集：def
数据流：DvaJS
统一控制台解决方案：Xconsole（对标 Ant Design Pro)

## 阿里云控制台

控制台是云产品的管控平台
企业通过控制台进行资源管控，权限控制，日常审计等功能
是企业运维的关键平台
是企业数字化转型的入口平台

### 阿里云控制台解决方案

Wind：融合了集团成熟技术体系（Fusion, DvaJS, DEF 等）

### 控制台业务特点

流量小：ToB 业务的通用问题，流量跟电商比，可以忽略不计...
体系乱：形态多样，各云产品独立发展；

稳定性保障
忙就容易乱，特别是在上线，发布流程不健全的情况下，只要你稍微掉以轻心，故障就会不期而至。

具备可预测的状态变化的能力。
一个故障往往是由一连串连锁反应导致的。

Assets 版本校验，Region 分发策略

react 设计原则
https://zh-hans.reactjs.org/docs/design-principles.html#___gatsby

### 阿里云控制台技术栈

1. Wind 组件库: 基于淘系 Fusion 基础组件库进行定制化和二次封装，Fusion 是基于 React 的 UI 组件库；
2. Redux: 管理数据流，使得 State 状态变化变得可预测和可追踪；
3. Redux-saga: 是 Redux 中间件，用于管理应用程序副作用(Side Effect，如异步获取数据，访问浏览器缓存等）
4. DvaJS: 蚂蚁推出的一个业务状态和数据管理框架，对 Redux 和 Redux-saga 进行统一封装；
5. Xconsole: 基于淘系 DEF 脚手架工具做了二次开发，覆盖项目初始化，添加项目模块，添加业务场景，本地调试，构建和项目发布；
6. Xconsole 是阿里云控制台开发解决方案：对以上的框架进行了统一编排与组织，简化开发；

7. 采用云构建代替本地构建
8. 脚手架覆盖项目开发周期 Xconsole 基于淘系 DEF 工具做了二次开发（项目初始化，添加项目模块，添加业务场景，本地调试，构建和项目发布）
9. 美杜莎：国际化解决方案

### 阿里云产品控制台整体业务架构

### Xconsole-基于 wind 的一套控制台开发解决方案

1. 隐藏了 DvaJS / React-Router 的声明实现，降低使用门槛；
2. 路由：约定式路由；（隐藏了 React-Router 的声明）；
3. 状态管理：（隐藏了 DvaJS 的使用，更加简化）；

https://www.atatech.org/articles/147222?spm=ata.13269424.0.0.31a345ef08sbA9

管控运营平台 Viper：发布上线，功能开关，功能灰度管理；

def 工程套件
https://def.alibaba-inc.com/auth/login?_p=61506

## Xconsole 涉及到的基础技术点

1. React Hooks: function Component (React v16.8)
2. DvaJS: Redux + Redux-saga
3. 约定式路由

## openAPI

https://api.aliyun.com/#/

## 控制台

1. 控制台组件库：https://wind.alibaba-inc.com
   基础组件和业务组件

## 集团前端技术栈

集团前端技术栈简单来说包括三大块：

-   前端设计模式库（Design Pattern Library, DPL)，蚂蚁的 Antd 和淘系的 Fusion Design；
-   统一脚手架工具，蚂蚁的 bigfish 和淘系的 def；
-   数据流管理框架 DvaJS，基于 redux+redux-saga 来管理数据流；

而蚂蚁的开源的 UmiJS 统一开发框架基本上整合了 antd+bigfish+DvaJS 一整套工具，使得开发人员在不需要知道框架原理和底层细节的情况下也能快速上手开发。
但是追根溯源，底层都需要涉及到 react 框架的使用，webpack 工程化和基于 redux 及其中间件的数据流的使用。
